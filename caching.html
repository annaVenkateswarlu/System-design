<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Caching - System Design Mastery</title>
    <link rel="stylesheet" href="index.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>
</head>

<body>
    <div class="aurora-bg">
        <div class="orb orb-1"></div>
        <div class="orb orb-2"></div>
        <div class="orb orb-3"></div>
    </div>

    <div class="sidebar-overlay" id="sidebar-overlay" onclick="toggleSidebar()"></div>

    <div class="sidebar" id="sidebar">
        <button class="close-btn" onclick="toggleSidebar()">&times;</button>
        <h2>Topics</h2>
        <ul>
            <li><a href="index.html">ğŸ  Home</a></li>
            <li><a href="scalability.html">ğŸš€ Scalability</a></li>
            <li><a href="load-balancing.html">âš–ï¸ Load Balancing</a></li>
            <li><a href="caching.html">ğŸ’¾ Caching</a></li>
            <li><a href="databases.html">ğŸ—„ï¸ Databases</a></li>
            <li><a href="microservices.html">ğŸ”§ Microservices</a></li>
            <li><a href="api-design.html">ğŸ”Œ API Design</a></li>
            <li><a href="message-queues.html">ğŸ“¬ Message Queues</a></li>
            <li><a href="cdn.html">ğŸŒ CDN & Edge Computing</a></li>
        </ul>
    </div>

    <div class="main-content" id="main-content">
        <header>
            <button class="hamburger" onclick="toggleSidebar()">&#9776;</button>
            <div class="header-content">
                <h1>System Design Mastery</h1>
                <p>Master scalable systems with premium insights</p>
            </div>
        </header>

        <section class="topic-content">
            <div class="container">
                <!-- Breadcrumb -->
                <nav class="breadcrumb" aria-label="Breadcrumb">
                    <a href="index.html" aria-label="Go to Home page">Home</a>
                    <span class="breadcrumb-separator" aria-hidden="true">/</span>
                    <span class="breadcrumb-current" aria-current="page">Caching</span>
                </nav>

                <h2>ğŸ’¾ Caching: Speed Through Strategic Storage</h2>

                <!-- What is Caching Section -->
                <div style="margin-top: 3rem;">
                    <h3 style="color: var(--color-primary); font-size: 1.5rem; margin-bottom: 1rem;">1ï¸âƒ£ What is it?
                    </h3>
                    <p style="font-size: 1.05rem; line-height: 1.8; margin-bottom: 1.5rem;">Caching is a technique where
                        frequently accessed data is stored in a fast storage (memory) so that future requests can be
                        served quickly without hitting the database.</p>

                    <div
                        style="background: rgba(16, 185, 129, 0.05); padding: 1.5rem; border-radius: var(--radius-lg); border-left: 4px solid var(--color-primary); margin-bottom: 2rem;">
                        <p style="margin: 0.5rem 0;"><strong style="color: var(--color-primary);">In system design,
                                cache usually means:</strong></p>
                        <ul
                            style="color: var(--color-text-secondary); line-height: 2; margin-left: 1.5rem; margin-top: 1rem;">
                            <li>ğŸ”§ <strong>In-memory storage</strong> (like Redis, Memcached)</li>
                            <li>âš¡ <strong>Much faster than database</strong> (microseconds vs milliseconds)</li>
                            <li>ğŸ’¾ <strong>Temporary data storage</strong> (automatically expires)</li>
                        </ul>
                    </div>
                </div>

                <!-- Why Does It Exist Section -->
                <div style="margin-top: 3rem;">
                    <h3 style="color: var(--color-primary); font-size: 1.5rem; margin-bottom: 1rem;">2ï¸âƒ£ Why Does It
                        Exist? (What Problem Does It Solve?)</h3>
                    <p style="font-size: 1.05rem; line-height: 1.8; margin-bottom: 1.5rem;">Caching exists to solve
                        <strong>performance and scalability problems</strong>. It helps to:
                    </p>

                    <div
                        style="background: var(--glass-bg); padding: 1.5rem; border-radius: var(--radius-lg); border: 1px solid var(--glass-border); margin-bottom: 2rem;">
                        <ul style="color: var(--color-text-secondary); line-height: 2.2; margin-left: 1.5rem;">
                            <li>ğŸ“Š <strong>Reduce response time</strong> by 10-100x</li>
                            <li>ğŸ—„ï¸ <strong>Reduce database load</strong> significantly</li>
                            <li>ğŸš€ <strong>Handle high traffic efficiently</strong></li>
                            <li>ğŸ’° <strong>Save infrastructure costs</strong></li>
                        </ul>
                    </div>

                    <p style="color: var(--color-text-muted); font-style: italic;">ğŸ’­ <strong>Without caching:</strong>
                        Every request must go to the database, which is slow and expensive.</p>
                </div>

                <!-- What Breaks Without It Section -->
                <div style="margin-top: 3rem;">
                    <h3 style="color: var(--color-primary); font-size: 1.5rem; margin-bottom: 1rem;">3ï¸âƒ£ What Breaks
                        Without It?</h3>
                    <p style="font-size: 1.05rem; margin-bottom: 1.5rem;">If caching is not used:</p>

                    <ul
                        style="background: rgba(239, 68, 68, 0.05); padding: 1.5rem; border-radius: var(--radius-lg); border-left: 4px solid #ef4444; color: var(--color-text-secondary); line-height: 2.2; margin-left: 0; margin-bottom: 2rem;">
                        <li>ğŸ”´ Database gets hit for every request</li>
                        <li>ğŸŒ Response time becomes slow (seconds instead of milliseconds)</li>
                        <li>ğŸ’¥ Database can overload during peak traffic</li>
                        <li>âŒ System may crash under high load</li>
                    </ul>

                    <div
                        style="background: linear-gradient(135deg, rgba(16, 185, 129, 0.1) 0%, rgba(52, 211, 153, 0.05) 100%); padding: 1.5rem; border-radius: var(--radius-lg); border: 1px solid rgba(16, 185, 129, 0.2); margin-bottom: 2rem;">
                        <h4 style="color: var(--color-primary); margin-bottom: 1rem;">ğŸ“Œ Real-World Example:</h4>
                        <p style="color: var(--color-text-secondary); margin: 0;">During a sale, <strong>thousands of
                                users open the same product page</strong> â†’ DB overload â†’ website goes down âŒ</p>
                    </div>
                </div>

                <!-- Caching Layers Section -->
                <div style="margin-top: 3rem;">
                    <h3 style="color: var(--color-primary); font-size: 1.5rem; margin-bottom: 1.5rem;">4ï¸âƒ£ Caching
                        Layers (Where to Cache)</h3>

                    <div
                        style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 1.5rem; margin-bottom: 2rem;">
                        <div
                            style="background: var(--glass-bg); padding: 1.5rem; border-radius: var(--radius-lg); border: 1px solid var(--glass-border);">
                            <h4 style="color: var(--color-primary); margin-bottom: 0.5rem;">ğŸŒ Browser Cache</h4>
                            <p
                                style="color: var(--color-text-secondary); font-size: 0.95rem; line-height: 1.6; margin: 0;">
                                Client-side storage for static assets (images, CSS, JavaScript). Controlled via HTTP
                                cache headers.</p>
                        </div>

                        <div
                            style="background: var(--glass-bg); padding: 1.5rem; border-radius: var(--radius-lg); border: 1px solid var(--glass-border);">
                            <h4 style="color: var(--color-primary); margin-bottom: 0.5rem;">ğŸŒ CDN Cache</h4>
                            <p
                                style="color: var(--color-text-secondary); font-size: 0.95rem; line-height: 1.6; margin: 0;">
                                Geographically distributed edge servers that cache content closer to users. Very fast
                                for global users.</p>
                        </div>

                        <div
                            style="background: var(--glass-bg); padding: 1.5rem; border-radius: var(--radius-lg); border: 1px solid var(--glass-border);">
                            <h4 style="color: var(--color-primary); margin-bottom: 0.5rem;">âš™ï¸ Application Cache</h4>
                            <p
                                style="color: var(--color-text-secondary); font-size: 0.95rem; line-height: 1.6; margin: 0;">
                                In-memory stores like Redis & Memcached. For frequently accessed data, sessions, API
                                responses.</p>
                        </div>

                        <div
                            style="background: var(--glass-bg); padding: 1.5rem; border-radius: var(--radius-lg); border: 1px solid var(--glass-border);">
                            <h4 style="color: var(--color-primary); margin-bottom: 0.5rem;">ğŸ—„ï¸ Database Cache</h4>
                            <p
                                style="color: var(--color-text-secondary); font-size: 0.95rem; line-height: 1.6; margin: 0;">
                                Query result caching and buffer pools within the database system itself. Built-in
                                optimization.</p>
                        </div>
                    </div>

                    <!-- Cache Working Diagram -->
                    <div style="margin-top: 2rem; text-align: center;">
                        <img src="images/Cache-Working.jpg" alt="How Cache Works - Request Flow Diagram"
                            style="max-width: 100%; height: auto; border-radius: var(--radius-xl); box-shadow: var(--shadow-lg); border: 1px solid var(--glass-border);">
                        <p
                            style="color: var(--color-text-muted); font-size: 0.9rem; margin-top: 1rem; font-style: italic;">
                            ğŸ“Š How caching reduces database load by serving requests from fast memory storage</p>
                    </div>
                </div>

                <!-- Cache Invalidation Section -->
                <div style="margin-top: 3rem;">
                    <h3 style="color: var(--color-primary); font-size: 1.5rem; margin-bottom: 1.5rem;">5ï¸âƒ£ Cache
                        Invalidation Strategies (The Hard Part!)</h3>

                    <ul
                        style="color: var(--color-text-secondary); line-height: 2.2; margin-left: 1.5rem; margin-bottom: 2rem;">
                        <li><strong style="color: var(--color-primary);">TTL (Time To Live):</strong> Automatically
                            expire cached data after a specified duration. Simple but may serve stale data.</li>
                        <li><strong style="color: var(--color-primary);">Write-through:</strong> Update cache and
                            database simultaneously. Ensures consistency but slower writes.</li>
                        <li><strong style="color: var(--color-primary);">Write-behind (Write-back):</strong> Update
                            cache immediately, database asynchronously. Fast writes but risk of data loss.</li>
                        <li><strong style="color: var(--color-primary);">Cache-aside (Lazy Loading):</strong>
                            Application manages cache explicitly. Load from database on cache miss, then populate cache.
                        </li>
                        <li><strong style="color: var(--color-primary);">Event-driven Invalidation:</strong> Invalidate
                            cache entries when related data changes using pub/sub patterns.</li>
                    </ul>

                    <!-- Cache-Aside Pattern Diagram -->
                    <div
                        style="margin-top: 2rem; background: var(--glass-bg); padding: 1.5rem; border-radius: var(--radius-lg); border: 1px solid var(--glass-border); text-align: center;">
                        <h4 style="color: var(--color-primary); margin-bottom: 1rem;">ğŸ“‹ Cache-Aside Pattern Visual</h4>
                        <img src="images/cache-aside.png" alt="Cache-Aside Pattern Flow Diagram"
                            style="max-width: 100%; height: auto; border-radius: var(--radius-md); margin-bottom: 1rem;">
                        <p style="color: var(--color-text-secondary); font-size: 0.95rem; margin: 0;">The most common
                            pattern where your application logic decides when to read/write to cache and database.</p>
                    </div>
                </div>

                <!-- When to Use Section -->
                <div style="margin-top: 3rem;">
                    <h3 style="color: var(--color-primary); font-size: 1.5rem; margin-bottom: 1.5rem;">6ï¸âƒ£ When to Use
                        It / When NOT to Use It</h3>

                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; margin-bottom: 2rem;">
                        <div
                            style="background: rgba(16, 185, 129, 0.08); padding: 1.5rem; border-radius: var(--radius-lg); border-left: 4px solid var(--color-primary);">
                            <h4 style="color: var(--color-primary); margin-bottom: 1rem;">âœ… When to Use Caching:</h4>
                            <ul
                                style="color: var(--color-text-secondary); line-height: 1.8; margin-left: 1rem; margin: 0;">
                                <li>ğŸ“– Data is read frequently</li>
                                <li>ğŸ”„ Data does not change very often</li>
                                <li>âš¡ Low latency is required</li>
                                <li>ğŸ“ˆ High traffic is expected</li>
                            </ul>
                        </div>

                        <div
                            style="background: rgba(239, 68, 68, 0.08); padding: 1.5rem; border-radius: var(--radius-lg); border-left: 4px solid #ef4444;">
                            <h4 style="color: #dc2626; margin-bottom: 1rem;">âŒ When NOT to Use Caching:</h4>
                            <ul
                                style="color: var(--color-text-secondary); line-height: 1.8; margin-left: 1rem; margin: 0;">
                                <li>ğŸ”„ Data changes very frequently</li>
                                <li>ğŸ¯ Strong consistency is required</li>
                                <li>ğŸ” Data is highly sensitive</li>
                                <li>â° Real-time accuracy is critical</li>
                            </ul>
                        </div>
                    </div>

                    <div
                        style="background: var(--glass-bg); padding: 1.5rem; border-radius: var(--radius-lg); border: 1px solid var(--glass-border); margin-bottom: 2rem;">
                        <h4 style="color: var(--color-primary); margin-bottom: 1rem;">Examples Where NOT to Cache:</h4>
                        <ul style="color: var(--color-text-secondary); line-height: 2; margin-left: 1.5rem;">
                            <li>ğŸ’³ <strong>Payment transactions</strong> - must be exact</li>
                            <li>ğŸ¦ <strong>Bank balance</strong> - must be current</li>
                            <li>ğŸ” <strong>OTP validation</strong> - single use only</li>
                            <li>ğŸ“ˆ <strong>Real-time stock prices</strong> - must be live</li>
                        </ul>
                    </div>
                </div>

                <!-- Common Mistakes Section -->
                <div style="margin-top: 3rem;">
                    <h3 style="color: var(--color-primary); font-size: 1.5rem; margin-bottom: 1.5rem;">7ï¸âƒ£ One Common
                        Mistake: Cache Invalidation Problem</h3>

                    <div
                        style="background: linear-gradient(135deg, rgba(239, 68, 68, 0.1) 0%, rgba(251, 113, 113, 0.05) 100%); padding: 2rem; border-radius: var(--radius-lg); border: 1px solid rgba(239, 68, 68, 0.2);">
                        <p style="color: #dc2626; font-weight: 600; margin-bottom: 1rem;">ğŸš¨ The Scenario:</p>
                        <ol
                            style="color: var(--color-text-secondary); line-height: 2; margin-left: 1.5rem; margin-bottom: 2rem;">
                            <li>Data is updated in database</li>
                            <li>Cache still has old data âŒ</li>
                            <li>Users see outdated or wrong information</li>
                        </ol>

                        <p
                            style="color: var(--color-primary); font-weight: 600; font-size: 0.95rem; text-align: center; padding: 1rem; background: var(--glass-bg); border-radius: var(--radius-md); margin: 0;">
                            "There are only two hard problems in computer science: cache invalidation and naming
                            things."
                        </p>
                    </div>
                </div>

                <!-- Real App Connection Section -->
                <div style="margin-top: 3rem;">
                    <h3 style="color: var(--color-primary); font-size: 1.5rem; margin-bottom: 1.5rem;">8ï¸âƒ£ Real App
                        Connection (How They Use Caching)</h3>

                    <div
                        style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 1.5rem; margin-bottom: 2rem;">
                        <div
                            style="background: var(--glass-bg); padding: 1.5rem; border-radius: var(--radius-lg); border: 1px solid var(--glass-border);">
                            <h4 style="color: var(--color-primary); margin-bottom: 1rem;">ğŸ›’ E-commerce App</h4>
                            <ul
                                style="color: var(--color-text-secondary); line-height: 1.8; margin-left: 1rem; font-size: 0.95rem;">
                                <li>âœ… Product catalog â†’ <strong>Cache</strong></li>
                                <li>âœ… Cart data â†’ <strong>Cache (short time)</strong></li>
                                <li>âŒ Orders & payments â†’ <strong>Database only</strong></li>
                            </ul>
                        </div>

                        <div
                            style="background: var(--glass-bg); padding: 1.5rem; border-radius: var(--radius-lg); border: 1px solid var(--glass-border);">
                            <h4 style="color: var(--color-primary); margin-bottom: 1rem;">ğŸ’¬ Chat Application</h4>
                            <ul
                                style="color: var(--color-text-secondary); line-height: 1.8; margin-left: 1rem; font-size: 0.95rem;">
                                <li>âœ… User profile â†’ <strong>Cache</strong></li>
                                <li>âŒ Messages â†’ <strong>Database</strong></li>
                                <li>âœ… Online status â†’ <strong>Cache</strong></li>
                            </ul>
                        </div>

                        <div
                            style="background: var(--glass-bg); padding: 1.5rem; border-radius: var(--radius-lg); border: 1px solid var(--glass-border);">
                            <h4 style="color: var(--color-primary); margin-bottom: 1rem;">ğŸ¬ OTT Platform</h4>
                            <ul
                                style="color: var(--color-text-secondary); line-height: 1.8; margin-left: 1rem; font-size: 0.95rem;">
                                <li>âœ… Home feed â†’ <strong>Cache</strong></li>
                                <li>âœ… Video metadata â†’ <strong>Cache</strong></li>
                                <li>âŒ Watch history â†’ <strong>Database</strong></li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Why Not Everywhere Section -->
                <div style="margin-top: 3rem;">
                    <h3 style="color: var(--color-primary); font-size: 1.5rem; margin-bottom: 1.5rem;">9ï¸âƒ£ Why Not Use
                        It Everywhere?</h3>

                    <div
                        style="background: rgba(16, 185, 129, 0.05); padding: 1.5rem; border-radius: var(--radius-lg); border-left: 4px solid var(--color-primary);">
                        <p style="color: var(--color-text-secondary); margin-bottom: 1rem;">Caching should not be used
                            everywhere because:</p>
                        <ul style="color: var(--color-text-secondary); line-height: 2; margin-left: 1.5rem;">
                            <li>ğŸ”§ <strong>Cache adds complexity</strong> to the system</li>
                            <li>ğŸ“Š <strong>Maintaining consistency is difficult</strong></li>
                            <li>ğŸ’° <strong>Extra infrastructure cost</strong> (Redis, Memcached servers)</li>
                        </ul>
                        <p
                            style="color: var(--color-primary); font-weight: 600; margin-top: 1.5rem; padding-top: 1rem; border-top: 1px solid var(--glass-border);">
                            ğŸ‘‰ For critical data, correctness is more important than speed.</p>
                    </div>
                </div>

                <!-- Summary Section -->
                <div
                    style="margin-top: 3rem; background: linear-gradient(135deg, rgba(16, 185, 129, 0.1) 0%, rgba(52, 211, 153, 0.05) 100%); padding: 2rem; border-radius: var(--radius-xl); border: 1px solid rgba(16, 185, 129, 0.2);">
                    <h3 style="color: var(--color-primary); font-size: 1.3rem; margin-bottom: 1rem;">ğŸ§  Summary</h3>
                    <p style="color: var(--color-text-secondary); line-height: 1.8; margin-bottom: 1rem;">
                        <strong>Caching improves system performance</strong> by storing frequently accessed data in
                        memory, reducing database load and response time.
                    </p>
                    <p style="color: var(--color-text-secondary); line-height: 1.8; margin-bottom: 1rem;">
                        <strong>However, it should not be used</strong> for highly dynamic or sensitive data due to
                        consistency issues.
                    </p>
                    <p style="color: var(--color-text-secondary); line-height: 1.8; margin: 0;"><strong>If caching is
                            not suitable,</strong> alternatives like read replicas, CDNs, or query optimization can be
                        used.</p>
                </div>

                <!-- Pro Tip Section -->
                <div
                    style="background: var(--glass-bg); padding: 2rem; border-radius: var(--radius-xl); border: 1px solid var(--glass-border); margin-top: 3rem; margin-bottom: 3rem;">
                    <h3 style="color: var(--color-primary); margin-bottom: 1rem;">ğŸ’¡ Pro Tip</h3>
                    <p style="color: var(--color-text-secondary); margin-bottom: 1rem;">Start with <strong>simple
                            TTL-based caching</strong>, and only add complexity when needed. Monitor cache hit rates -
                        <strong>aim for 80%+ for optimal performance gains</strong>.
                    </p>
                    <p style="color: var(--color-text-secondary); margin: 0;"><strong>Tools to consider:</strong> Redis
                        (fast, in-memory), Memcached (distributed), Varnish (HTTP caching), or built-in caching in
                        frameworks like Django/Spring.</p>
                </div>
            </div>
        </section>

        <!-- Next Topic CTA -->
        <section class="next-topic-cta">
            <div class="container">
                <a href="databases.html" class="next-topic-link">
                    <span class="next-topic-text">Next Topic</span>
                    <span class="next-topic-arrow">â†’</span>
                    <span class="next-topic-title">ğŸ—„ï¸ Databases</span>
                </a>
            </div>
        </section>

        <footer>
            <p>&copy; 2025 System Design Mastery. All rights reserved.</p>
        </footer>
    </div>

    <div id="toast" class="toast"></div>
    <script src="index.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            showToast('Loaded: Caching ğŸ’¾', 'success');
        });
    </script>
</body>

</html>